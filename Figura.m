MotomanMH5=MotomanDC([0,0,0,0,0,0]);x=0:0.004:0.22;y=0*x;coordenadas_xy=[x;y];y=0:0.002:0.16;x=sqrt(-((y-0.08).^2)+0.0064)+0.22;coordenadas_xy=[coordenadas_xy,[x(2:end);y(2:end)]];x=0:0.004:0.22;x=flip(x);y=0*x+0.16;coordenadas_xy=[coordenadas_xy,[x(2:end);y(2:end)]];y=0:0.004:0.16;y=flip(y);x=y*0;coordenadas_xy=[coordenadas_xy,[x(2:end);y(2:end)]];[r,c] = size(coordenadas_xy);%%transformación:Rot=rotx(-45,'deg');Trans=[0.2;-0.3;0.5];T=rt2tr(Rot,Trans);coordenadas_xyz=zeros(r+2,c);for i=1:c    coordenadas_xyz(:,i)=T*[coordenadas_xy(:,i);0;1];end% % figure% hold on% view([114 41])% trplot(rt2tr(rotx(-45,'deg'),[0.2;-0.09;0.2]));% trplot(eye(4));% plot3(coordenadas_xyz(1,:),coordenadas_xyz(2,:),coordenadas_xyz(3,:),'.');% hold offQ=zeros(c,6);Qp=zeros(c,6);for i=1:c    [~,q1,q2,q3,q4,q5,q6]=MotomanIC(coordenadas_xyz(1:3,i),[135,0,0],true,MotomanMH5);    q = [q1,q2,q3,q4,q5,q6];    if (i > 1)          vector_pos = coordenadas_xyz(1:3,i) - coordenadas_xyz(1:3,i - 1);          vh = ((vector_pos)/ norm(vector_pos)) * 0.5;         Qp(i,:) = MotomanSpeed(q, MotomanMH5, vh, [0 0 0]');    end        Q(i,:)=[q1 q2 q3 q4 q5 q6];endfigure();MotomanMH5.plot(Q(1,:),'trail','ro','workspace',[-20 20 -20 20 -10 15]/10,'view',[170 40],'scale',0.1, 'tilesize',2,  'ortho', 'lightpos',[2 2 10] )hold onMotomanMH5.animate(Q)hold offt=1:c;figure();title('Posición articulaciónes')subplot(6,1,1)grid onplot(t,rad2deg(Q(:,1)),'LineWidth',2)ylabel('Q1')subplot(6,1,2)plot(t,rad2deg(Q(:,2)),'LineWidth',2)ylabel('Q2')subplot(6,1,3)plot(t,rad2deg(Q(:,3)),'LineWidth',2)ylabel('Q3')subplot(6,1,4)plot(t,rad2deg(Q(:,4)),'LineWidth',2)ylabel('Q4')subplot(6,1,5)plot(t,rad2deg(Q(:,5)),'LineWidth',2)ylabel('Q5')subplot(6,1,6)plot(t,rad2deg(Q(:,6)),'LineWidth',2)ylabel('Q6')%% Velocidadesfigure();title('Velocidades de articulaciónes')subplot(6,1,1)grid onplot(t,Qp(:,1),'LineWidth',2)ylabel('Qp1')subplot(6,1,2)plot(t,Qp(:,2),'LineWidth',2)ylabel('Qp2')subplot(6,1,3)plot(t,Qp(:,3),'LineWidth',2)ylabel('Qp3')subplot(6,1,4)plot(t,Qp(:,4),'LineWidth',2)ylabel('Qp4')subplot(6,1,5)plot(t,Qp(:,5),'LineWidth',2)ylabel('Qp5')subplot(6,1,6)plot(t, Qp(:,6),'LineWidth',2)ylabel('Qp6')